{
    "componentChunkName": "component---src-templates-student-project-tsx",
    "path": "/portafolios/proyectos-estudiantes/2020/masb-pot-s-La_resistencia",
    "result": {"data":{"markdownRemark":{"id":"ef733e3a-b645-5277-aacd-c8b1baba40d9","html":"<p>El proyecto masb-pot-s está diseñado para realizar medidas electroquímicas en una celda y analizar propiedades de los analitos. Es un proyecto realizado con un microcontrolador EVB de STM32 y usando la plataforma STM32cubeIDE. Este artículo contiene la definición del proyecto así como los resultados obtenidos y aclaraciones necesarias para entenderlo.</p>\n<h2 id=\"contenidos\" style=\"position:relative;\"><a href=\"#contenidos\" aria-label=\"contenidos permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Contenidos</h2>\n<ul>\n<li><a href=\"#introducci%C3%B3n\">Introducción</a></li>\n<li><a href=\"#diagrama-de-flujo\">Diagrama de flujo</a></li>\n<li><a href=\"#resultados-obtenidos\">Resultados obtenidos</a></li>\n<li><a href=\"#conclusiones\">Conclusiones</a></li>\n</ul>\n<h2 id=\"introducción\" style=\"position:relative;\"><a href=\"#introducci%C3%B3n\" aria-label=\"introducción permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introducción</h2>\n<p>Con este proyecto se pretende programar un potenciostato para la realización de cronoamperometrías y voltametrías cíclicas de una celda electroquímica. Para ello, se ha usado el programa STM32CubeIDE para configurar el microcontrolador y programar las instrucciones necesarias para realizar las mediciones.</p>\n<p>El microcontrolador debe comunicarse con el potenciostato y el ordenador para recibir y enviar los valores de voltaje y corriente y, posteriormente, deben ser representados en una gráfica usando una aplicación que puede conectarse con la plataforma STM32CubeIDE (viSens-S). De este modo, podemos ver los resultados de la voltametría cíclica o la cronoamperometría.</p>\n<p>Una <strong>celda electroquímica</strong> de tres electrodos contiene el electrodo de trabajo (WE) que aplica el potencial deseado a la celda, el electrodo de referencia (RE) que actúa como referencia en la medición ya que tiene un potencial conocido para medir el potencial del WE, y un último electrodo llamado electrodo auxiliar (AE) que se utiliza para equilibrar la reacción en el WE.</p>\n<p>El <strong>potenciostato</strong> permite controlar los tres electrodos de la celda electroquímica controlando la diferencia de potencial en uno de ellos, en dos o en los tres. A continuación podemos ver el esquema de un potenciostato que puede controlar la diferencia de potencial en uno, dos o más electrodos de trabajo, con ayuda de un electrodo de referencia y un electrodo auxiliar. Para más información sobre el funcionamiento de los potenciostatos, se puede consultar el siguiente <a href=\"https://quimica.laguia2000.com/conceptos-basicos/potenciostato\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">enlace</a>.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"border-radius: 6px; overflow: hidden;\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 330px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/abe6e0811fa38627d7bf09de436925f0/d9ecf/potenciostat.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.59493670886076%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA+klEQVQoz42S2WrDMBAA/f9fGarE0ODqvvaySqzEcW1TMg9CLJo9xA5tAxEBgIhsg/M87y4rw6oRUYwx51wBEJGIutFa89Za547+0EMxRkQMIYhIKcVoQ0yPRLWGEJT6ulwu1tpdU0+5lNJayzkvZ9JaM3NKqZTqvTfGOueMMQCQcpJX/bcMANbafsGFXZPMbIxRSvGr/oCIRhvvfde2HzYvtNbu33fvQ1oopQjzU2Zi78IqIyIcGG/jNP1M09THrrWezPwPzKy1VkoJMyH+kddkp/TmEVFrPd7Gda6HLCLOueMO7BCR4P31qpg3MjN/IvdnJxv2OSLvKr9cR8FzHsKdfAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Circuito de un potenciostato.\"\n        title=\"Circuito de un potenciostato.\"\n        src=\"/static/abe6e0811fa38627d7bf09de436925f0/d9ecf/potenciostat.png\"\n        srcset=\"/static/abe6e0811fa38627d7bf09de436925f0/c26ae/potenciostat.png 158w,\n/static/abe6e0811fa38627d7bf09de436925f0/6bdcf/potenciostat.png 315w,\n/static/abe6e0811fa38627d7bf09de436925f0/d9ecf/potenciostat.png 330w\"\n        sizes=\"(max-width: 330px) 100vw, 330px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>Circuito de un potenciostato.</p></figcaption>\n  </figure></p>\n<p>Debido a las circunstancias vividas estos últimos meses con el Covid-19, el proyecto no se ha podido realizar. Su planteamiento era usar una muestra de ferricinuro de potasio a diferentes concentraciones y un tampón de cloruro de potasio.</p>\n<p>Las dos mediciones que se realizan, voltammetría cíclica y cronoamperometría, son técnicas muy importantes en la electroquímica para estudiar reacciones o propiedades electrocatalíticas.</p>\n<p>La <strong>voltametría cíclica</strong> se basa en hacer un barrido triangular de potencial. Para realizarla, se aplica una diferencia de potencial entre el electrodo de trabajo (WE) y el electrodo de referencia (RE) de la celda electroquímica. El potencial aplicado va cambiando hasta llegar al deseado y, una vez que llega, cambia de dirección mientras se mide la corriente que proporciona la celda. El número de veces que se realiza el barrido triangular de potencial viene determinado por el número de ciclos deseado. Esta técnica proporciona información sobre el comportamiento químico y físico del sistema. Para más información, puede consultarse el siguiente <a href=\"https://chem.libretexts.org/Bookshelves/Analytical_Chemistry/Supplemental_Modules_(Analytical_Chemistry)/Instrumental_Analysis/Cyclic_Voltammetry\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">enlace</a>.</p>\n<p>La <strong>cronoamperometría</strong> consiste en aplicar una señal escalón en el potencial del WE y medir la corriente que pasa por la celda en función del tiempo. Nos permite cuantificar la concentración del analito a partir de su actividad. Es un proceso mucho más simple en el que únicamente se fija un potencial inicial inocuo y se amplía hasta que se produce la reacción. Para ampliar la información se puede consultar <a href=\"https://es.scribd.com/document/264324581/CRONOAMPEROMETRIA\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">aquí</a>.</p>\n<p>A nivel técnico, para ejecutar el trabajo, se ha usado la infraestructura Git. Git nos ha ayudado a trabajar paralelamente creando ramas específicas para cada funcionalidad <code class=\"language-text\">feature/funcionalidad</code> y controlando la configuración del proyecto desde la rama <code class=\"language-text\">develop</code>. Git nos ha permitido evitar errores de compilación a la hora de trabajar los distintos miembros a la vez. Cabe mencionar que, en caso de modificar la configuración del proyecto posteriormente a la creación de una rama, se debe realizar un <code class=\"language-text\">git rebase</code> para que la configuración sea aplicada a la rama. Una vez finalizadas las funcionalidades, mediante las funciones de <code class=\"language-text\">merge</code> de GitHub, se ha juntado todo el proyecto para poder ser evaluado y subido a la rama <code class=\"language-text\">master</code> en buen estado.</p>\n<h2 id=\"diagrama-de-flujo\" style=\"position:relative;\"><a href=\"#diagrama-de-flujo\" aria-label=\"diagrama de flujo permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Diagrama de flujo</h2>\n<p>La ejecución del proyecto se puede resumir en el siguiente diagrama de flujo:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"border-radius: 6px; overflow: hidden;\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c5d81fd96df57e482a65e41883a949b3/50383/diagrama.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 115.82278481012658%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAC4jAAAuIwF4pT92AAACIklEQVQ4y52V544qMQyFef9H4idFgOhd9CJ67x189Vkymp2dYXdvJCskmZzYPscmICLyer2Y5PF4yH6/l8ViIZvNRq7Xqzyfz/fZ4XDQfc4x1rfbTZwYAecCgGKxKMFgUKLRqILbhfP5LOv1Wnq9nnS7XWm32zKdTvWOL+DlctGPRqORztvtVs8wzgBdrVYyHo9lNpt9efALoHPDwnOP4/Goj2SzWYnH45JIJKTVavl7aBt4NRgMZD6f6+uEyd7pdFIjh7vdTmf2fXNoG4RBjpbLpdzvd72AAQAgIVerVc0hkXh66Ab1GuQQQPPYPOVRX1IM1G3mOUDNZlPC4bAkk0kF/5EUN5DtERpeAjqZTN469PTQbziBYZm85vN5SaVSynKn0/H38BMghgbRJ4QgnUqlIo1GQ/P6J0BnyMYqZACEd6bZ/wp5OBxKoVCQSCQisVhMy5D9X7Ps3IMQNAgooaJDxM++r7A/mdUy8rGqwbtvpHiJ2VqWcyAPKgiG0+m0WqlU8g4ZAAxtIVxyQ+EjXDwzozoIkybBGd566pCPcZ0w+JhLGBcQL17YjBG6lxregHwAqB14hfxJo05TQLzDm99o8qcRQKT9fl87MJ2YPPIbeRA+M2sETbjGMk5Q187uQ6QBCMhkMhIKhfR/pFwuS61W027Cmu5cr9e1Imi8MEsJsqb8YDuXyyn7NI2Axc7L7mYJEfYbNskta2bW5N0Is3/Afym99GO0OVFQAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Diagrama de flujo del proyecto.\"\n        title=\"Diagrama de flujo del proyecto.\"\n        src=\"/static/c5d81fd96df57e482a65e41883a949b3/f058b/diagrama.png\"\n        srcset=\"/static/c5d81fd96df57e482a65e41883a949b3/c26ae/diagrama.png 158w,\n/static/c5d81fd96df57e482a65e41883a949b3/6bdcf/diagrama.png 315w,\n/static/c5d81fd96df57e482a65e41883a949b3/f058b/diagrama.png 630w,\n/static/c5d81fd96df57e482a65e41883a949b3/50383/diagrama.png 740w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>Diagrama de flujo del proyecto.</p></figcaption>\n  </figure></p>\n<p>Las diferentes funcionalidades se han ido desarrollando en ramas individuales para ser luego unidas en el proyecto. El proyecto está desarrollado en STM32cubeIDE y por ello se han usado las funciones de la <a href=\"https://www.st.com/resource/en/user_manual/dm00105879-description-of-stm32f4-hal-and-ll-drivers-stmicroelectronics.pdf\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">librería HAL</a>.</p>\n<p>La configuración del microcontrolador se puede ver en la siguiente figura donde vemos todas las conexiones que son necesarias para realizar el proyecto.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"border-radius: 6px; overflow: hidden;\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 466px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ff0369b3f0d1021b96299f01493fd967/fc1a1/configuracio.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80.37974683544303%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADJklEQVQ4y32Ua1NbVRSG82P85j/wu587o1io0AKVkEADSSDkBqe5kDSXkxOatqa2tbVfbC1jKzCVQIOKWnAcYcCEFqttvYwWQq5SQxMg53ESSMql+s6sWeecmf2cd62191awK1mWa1kulXY+FmW2nu88b+VfsLUJm1syNW3DZrH4cp0so9j7UoWWEc9TTwlOX8URMRCfm+LKzDifRs4xO32L2bk4P8wvcvnbYZIbuZ018s6PFRxQ2V3qjydMfHadhit66j86gtehpznswuxrZMinweQQsQhOGqRuHv/6Y9kR8q6xCrBQKLCyusLqsxWWn/7E0ZFTGAIuQkMf4hMv4vSHGHSLCE4Rk82NsV+gx9xPt7aX0C0bv//5pFa2olpmIpHg8aNfWPg5zuvD9XR4rPil97H7RASXB6PgoNcqoDOa0faZ0RpMqLRajoV7WHgUp2yx7LMGTGfSPIgtMb+8yBtT7ai8Fry+EP2DHuxn/Ihnz+MJDOEJBDEN2OjQ6lGd6kIKXiSTyR12WCwW2MhvsJr8i57rb2L1mbG7g5htTu6M3WUiOsXt0TFuj4ziESXeU3fSpu5gUJRYS6VeAvdOuaz19XWuXruEW5Qw9NsJhS+x9HCZ+7PfsRiLMz4xifW0jRZlOy1tSjxD50lnsocdlnZzLvc3gfA1BLefXssAgdAFJqNf8PEnw3xzf6YCbFWqONmuoqmlFbtHJJlKHwZWcz7/D5GRG3j8fnQma6VfVrsTl9ePNyBhd51BrenmeOtJ3j1+Av+5MJls7r9LTmbWkMZcGBxm9H1W9GYLltN2vIFgpXf6PmPFXWNzM8eamnD6JNaSqVqVir2wQv4F3y/N89poHXX6NrQ6M50aHSq1BnVXF8qOzgqovrGRt442cOTtOgZcPhLJ5H5g9ehkM1lS2TSh2E3eOatEGhRosmto6G3HYBxA1aWt7MFyFgQdDpuOSDRKPr9xuOSDGv7tc2Iz9whP3+CDyZtE733NnbvjRKa+ZHR8koW5KA9jXyHL2/tmsG8o1dgubZNLZHcPN/+rvS2rOXzVFZbKpCsXRbkVlSi9Og7ukn8B66EgW/x43eIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Configuración de los pines del microcontrolador.\"\n        title=\"Configuración de los pines del microcontrolador.\"\n        src=\"/static/ff0369b3f0d1021b96299f01493fd967/fc1a1/configuracio.png\"\n        srcset=\"/static/ff0369b3f0d1021b96299f01493fd967/c26ae/configuracio.png 158w,\n/static/ff0369b3f0d1021b96299f01493fd967/6bdcf/configuracio.png 315w,\n/static/ff0369b3f0d1021b96299f01493fd967/fc1a1/configuracio.png 466w\"\n        sizes=\"(max-width: 466px) 100vw, 466px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>Configuración de los pines del microcontrolador.</p></figcaption>\n  </figure></p>\n<p>Los componentes principales del proyecto están descritos a continuación:</p>\n<ol>\n<li>PMU</li>\n</ol>\n<p>La <em>Power Management Unit</em> (PMU) se encuentra en el módulo <em>front-end</em> del potenciostato y su función es alimentar todo el <em>front-end</em> del potenciostato. Para comunicarse con esta, se ha configurado el pin PA5 del microcontrolador al que se ha llamado EN como una salida digital GPIO<em>INPUT. Este pin habilita (1) y deshabilita la PMU (0) mediante la funcion GPIO_WritePin. Como por defecto esta se encuentra deshabilitada para evitar que el _front-end</em> consuma corriente, se ha programado una función que llevara a nivel alto el pin EN cuando se inicie el programa habilitando la PMU.</p>\n<p>También conviene destacar el uso del relé que nos permite controlar la comunicación entre el <em>front-end</em> y el sensor. Cuando el relé está abierto, la comunicación está disponible; si está cerrado, no. Lo controlamos mediante un GPIO pin del microcontrolador controlado como la PMU mediante <code class=\"language-text\">WritePin</code>.</p>\n<ol start=\"2\">\n<li><em>Timers</em></li>\n</ol>\n<p>Los <em>timers</em> del microcontrolador nos permiten que se repita una acción con una frecuencia determinada o pasado un periodo de tiempo. En este caso, se ha implementado el <em>timer</em> 2 del microcontrolador para controlar las medidas de la voltametría cíclica y de la cronoamperometria.</p>\n<p>La función que se ha implementado permite cambiar el periodo del <em>timer</em> y, por lo tanto, la frecuencia entre muestras en base a los parámetros que se indiquen para cada medida.</p>\n<ol start=\"3\">\n<li>ADC</li>\n</ol>\n<p>El ADC del microcontrolador nos permite leer los datos de la celda mediante una entrada del microcontrolador. Nos permite pasar las medidas analógicas tanto de voltaje como de corriente realizadas por el potenciostato en la celda electroquímica a unos datos digitales. Las señales son convertidas a señales unipolares para ser leídas. Para leer la corriente, usamos un amplificador de transimpedancia con una resistencia de 10 kOhm.</p>\n<p>La comunicación del ADC es asíncrona configurada con un <em>baud rate</em> de 115200, 8 bits, sin paridad y con un bit de stop mediante una USART del microcontrolador.</p>\n<ol start=\"4\">\n<li>DAC</li>\n</ol>\n<p>Nuestro proyecto tiene un DAC configurado que se encarga de escribir en la celda electroquímica el potencial deseado. El DAC convierte la señal que es digital a analógica para poder ser escrita en la celda. El DAC tiene un papel muy importante porque nos permite interactuar con la celda y definir el potencial inicial que nos permite iniciar los procesos. La comunicación del DAC usado, <a href=\"https://pdf1.alldatasheet.com/datasheet-pdf/view/233449/MICROCHIP/MCP4725.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">MCP4725</a>, se realiza mediante I<sup>2</sup>C, es decir, mediante la comunicación síncrona del microcontrolador. El DAC tiene una etapa de conversión que crea una señal bipolar y nos da el rango de tensiones positivas y negativas que podemos usar.</p>\n<ol start=\"5\">\n<li>Voltametría cíclica</li>\n</ol>\n<p>En nuestro caso, el microcontrolador mide la tensión de la celda electroquímica mediante el ADC y a continuación le va sumando/restando parámetros hasta llegar o superar un potencial determinado. Este ultimo proceso se repite tres veces en cada ciclo ya que primero se fija una tensión llamada eBegin a la celda, a continuación se aplican incrementos y decrementos hasta llegar a eVertex1, a eVertex2 y por último volviendo a eBegin. El periodo entre las muestras de la celda que lee el ADC viene determinado por dos parámetros (<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>s</mi><mo>=</mo><mi>e</mi><mi>S</mi><mi>t</mi><mi>e</mi><mi>p</mi><mi mathvariant=\"normal\">/</mi><mi>s</mi><mi>c</mi><mi>a</mi><mi>n</mi><mi>R</mi><mi>a</mi><mi>t</mi><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">Ts = eStep/scanRate</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\">s</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">St</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">p</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">sc</span><span class=\"mord mathnormal\">an</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">e</span></span></span></span></span>).</p>\n<p>Para conseguir que el programa se ejecute cuando haya pasado este tiempo, se ha usado el <em>timer</em> configurado del microcontrolador con su pertinente <em>callback</em>.</p>\n<ol start=\"6\">\n<li>Cronoamperometría</li>\n</ol>\n<p>En la cronoamperometría fijamos la tensión de la celda que deseamos mediante el DAC, dejamos el tiempo necesario para la muestra mediante el <em>timer</em> y leemos los datos de la celda de tensión y corriente mediante el ADC. Se van tomando muestras hasta que termina el tiempo de muestreo.</p>\n<p>Todo el envío de datos se realiza mediante el protocolo de comunicación COBS. Esto nos permite leer los datos de una manera clara y sin errores usando <code class=\"language-text\">0x00</code> como <em>term char</em>. Lo que hacemos usando el protocolo es convertir nuestra serie de datos en otra codificada en la que primero se eliminan todos los <code class=\"language-text\">0x00</code> (<em>term char</em>) y se escribe el número de paquetes entre <code class=\"language-text\">0x00</code> y <code class=\"language-text\">0x00</code> y el contenido de ellos. En nuestro proyecto tenemos una función que decodifica los mensajes y otra que los codifica y nos permite trabajar con el protocolo.</p>\n<h2 id=\"resultados-obtenidos\" style=\"position:relative;\"><a href=\"#resultados-obtenidos\" aria-label=\"resultados obtenidos permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resultados obtenidos</h2>\n<p>Como se ha comentado, debido a la situación en la que nos encontramos con la pandemia del COVID-19, no hemos tenido acceso al laboratorio y no hemos podido probar nuestro código con un potenciostato y una celda electroquímica.</p>\n<p>En este caso, para comprobar el funcionamiento del código, se ha usado el programa viSens-S que nos permite realizar las dos medidas con los datos que va recibiendo del microcontrolador, tanto la voltametría cíclica como la cronoamperometria y obtener los datos obtenidos tanto en gráfico como en formato de tabla.</p>\n<p>Al tener un potenciómetro que nos fue proporcionado antes de encontrarnos en esta situación, lo hemos podido adaptar para hacer un divisor de tensión y conectarlo a las entradas analógicas del microcontrolador como se ve en la imagen que encontramos a continuación:</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"border-radius: 6px; overflow: hidden;\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7dd5cbedddc60a52128f4ec58d596348/8608d/placa.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 133.54430379746836%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECBAP/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQP/2gAMAwEAAhADEAAAAZWptmSK8t2WXQ4j/8QAHBAAAgIDAQEAAAAAAAAAAAAAAQMAAhESIRMz/9oACAEBAAEFAq8mxtOYacK+q/HeNBqlZBSqnnRnRXg3tP/EABYRAQEBAAAAAAAAAAAAAAAAABEAEP/aAAgBAwEBPwE0v//EABcRAAMBAAAAAAAAAAAAAAAAAAABERD/2gAIAQIBAT8BxqFR/8QAHBAAAwADAQEBAAAAAAAAAAAAAAERAiExElFx/9oACAEBAAY/AnKLJ/gvWWKc+jnRPhcpR7PF2ydIaOn/xAAeEAACAgICAwAAAAAAAAAAAAABEQAhMWFBUXGB4f/aAAgBAQABPyFwEg24ADUUbVc9PQJLrOyUGSpxvuL41UPJosGA1AaHcPsm4IYDBlIAlFfE/9oADAMBAAIAAwAAABDYA7z/xAAZEQEAAgMAAAAAAAAAAAAAAAABAEEQESH/2gAIAQMBAT8QVeDs3bn/xAAXEQEBAQEAAAAAAAAAAAAAAAABACER/9oACAECAQE/EFO5cgWQWX//xAAfEAEAAwEAAgIDAAAAAAAAAAABABEhMUFRYYGRofD/2gAIAQEAAT8QNRit2V72WsggqK9nrP3AJgwXRQoQUDBZcjnmBv8AUtNAufz3EpiXg1VvNlkCm9U5+fubAwYX1KpvbQO/ErK6hOwhkOM5DMVDxSf/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Conexión del potenciómetro.\"\n        title=\"Conexión del potenciómetro.\"\n        src=\"/static/7dd5cbedddc60a52128f4ec58d596348/828fb/placa.jpg\"\n        srcset=\"/static/7dd5cbedddc60a52128f4ec58d596348/ff44c/placa.jpg 158w,\n/static/7dd5cbedddc60a52128f4ec58d596348/a6688/placa.jpg 315w,\n/static/7dd5cbedddc60a52128f4ec58d596348/828fb/placa.jpg 630w,\n/static/7dd5cbedddc60a52128f4ec58d596348/8608d/placa.jpg 638w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>Conexión del potenciómetro.</p></figcaption>\n  </figure></p>\n<p>El resultado final no es el esperado ya que nos se ha podido conectar con la aplicación viSense por causas que no hemos sabido resolver. El código compila sin errores, pero parece que no envía datos a la aplicación.</p>\n<h2 id=\"conclusiones\" style=\"position:relative;\"><a href=\"#conclusiones\" aria-label=\"conclusiones permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusiones</h2>\n<p>En esta asignatura hemos aprendido a trabajar con un microcontrolador desde el encendido y apagado de un LED hasta la realización de un proyecto para hacer medidas electroquímicas. Se ha trabajado también la parte teórica para entender la importancia de los microcontroladores y la presencia que tienen en cualquier dispositivo que pensemos. Se han trabajado interrupciones, <em>timers</em>, conversores de señales, comunicaciones síncronas y asíncronas, etc. Usar Arduino al inicio del curso nos ha ayudado a entender cómo se estructuran las instrucciones que el microcontrolador recibe. Arduino no tiene librerías especificas para microcontroladores y los códigos son más simples. Por eso, se ha hecho uso de la plataforma STM32CubeIDE y toda la librería HAL para realizar los proyectos. La evolución del curso nos ha permitido poder desarrollar este proyecto.</p>\n<p>A parte de toda la parte de instrucciones y tareas del microcontrolador, también nos hemos introducido al uso de Git. Git es una herramienta muy buena para hacer trabajos y, sobretodo, para hacer trabajos en grupo. Nos permite subir archivos como versiones que quedan almacenados en el repositorio y pueden ser rescatados después. Podemos ver lo que los otros miembros del equipo hacen y pedirles revisiones de nuestros archivos. GitHub es la interfaz con el repositorio remoto donde a parte de subir los archivos también podemos verlos y unirlo con otros. En definitiva, es una herramienta que probablemente usaremos otras veces porque nos ha mostrado un modo distinto de trabajar en equipo bastante eficiente.</p>\n<p>Aunque no se ha podido trabajar con algunos componentes reales debido a la falta de movilidad para ir al laboratorio, este proyecto nos ha servido para estimularnos y buscar recursos alternativos para entender los componentes, así como para conocer mejor el <em>datasheet</em> de algunos como serían el DAC externo al microcontrolador.</p>\n<p>El proyecto nos ha resultado complicado en algunas partes, sobretodo a la hora de reproducir los <em>workflows</em> de la voltametría cíclica y cronoamperometría e introducir los <em>timers</em> en ellas.</p>\n<p>Para terminar, la valoración de la asignatura que hacemos es muy positiva ya que nos hemos podido introducir un poco en una parte de la electrónica más computarizada y de programación que desconocíamos totalmente.</p>","frontmatter":{"students":[{"name":"Maria Guerrero","linkedin":null,"email":"marionaguerrlop@gmail.com","picture":{"id":"803f79b5-2978-5df9-aecb-870b64f2b98a","childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/52df590cbe555b6bb16cbb15a5c838c4/cd62d/MARIA-GUERRERO-LOPEZ.jpg","srcSet":"/static/52df590cbe555b6bb16cbb15a5c838c4/77b4a/MARIA-GUERRERO-LOPEZ.jpg 281w,\n/static/52df590cbe555b6bb16cbb15a5c838c4/d38c2/MARIA-GUERRERO-LOPEZ.jpg 563w,\n/static/52df590cbe555b6bb16cbb15a5c838c4/cd62d/MARIA-GUERRERO-LOPEZ.jpg 1125w","sizes":"(min-width: 1125px) 1125px, 100vw"},"sources":[{"srcSet":"/static/52df590cbe555b6bb16cbb15a5c838c4/30c37/MARIA-GUERRERO-LOPEZ.webp 281w,\n/static/52df590cbe555b6bb16cbb15a5c838c4/1e226/MARIA-GUERRERO-LOPEZ.webp 563w,\n/static/52df590cbe555b6bb16cbb15a5c838c4/7cd1b/MARIA-GUERRERO-LOPEZ.webp 1125w","type":"image/webp","sizes":"(min-width: 1125px) 1125px, 100vw"}]},"width":1125,"height":1500}}]}},{"name":"Mariona Ribera","linkedin":null,"email":"mariona.r.d1998@gmail.com","picture":{"id":"deabe889-da19-5d95-a383-bdfbb395cf10","childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#e8e8d8","images":{"fallback":{"src":"/static/b1cab1e8e58ddf4e9b8d7d7838790d36/9ef34/MARIONA-RIBERA-DIVI.jpg","srcSet":"/static/b1cab1e8e58ddf4e9b8d7d7838790d36/008d3/MARIONA-RIBERA-DIVI.jpg 319w,\n/static/b1cab1e8e58ddf4e9b8d7d7838790d36/2c9e5/MARIONA-RIBERA-DIVI.jpg 637w,\n/static/b1cab1e8e58ddf4e9b8d7d7838790d36/9ef34/MARIONA-RIBERA-DIVI.jpg 1274w","sizes":"(min-width: 1274px) 1274px, 100vw"},"sources":[{"srcSet":"/static/b1cab1e8e58ddf4e9b8d7d7838790d36/c7d31/MARIONA-RIBERA-DIVI.webp 319w,\n/static/b1cab1e8e58ddf4e9b8d7d7838790d36/1bcb4/MARIONA-RIBERA-DIVI.webp 637w,\n/static/b1cab1e8e58ddf4e9b8d7d7838790d36/8117d/MARIONA-RIBERA-DIVI.webp 1274w","type":"image/webp","sizes":"(min-width: 1274px) 1274px, 100vw"}]},"width":1274,"height":1357}}]}}],"title":"Proyecto masb-pot-s","date":"June 18, 2020","project":"potentiostat","repo":"https://github.com/Biomedical-Electronics/masb-pot-s-La_resistencia"}}},"pageContext":{"id":"ef733e3a-b645-5277-aacd-c8b1baba40d9"}},
    "staticQueryHashes": ["63159454"]}